# Mini Taipei

å°ç£è»Œé“é‹è¼¸å³æ™‚åˆ—è»Šæ¨¡æ“¬ç³»çµ± - åœ¨åœ°åœ–ä¸Šè¦–è¦ºåŒ–å‘ˆç¾åˆ—è»Šé‹è¡Œç‹€æ…‹

![React](https://img.shields.io/badge/React-19-blue) ![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue) ![Mapbox](https://img.shields.io/badge/Mapbox%20GL-3.17-orange)

## è‡´è¬èˆ‡è³‡æ–™ä¾†æº

æœ¬å°ˆæ¡ˆä½¿ç”¨ä»¥ä¸‹é–‹æºè³‡æ–™èˆ‡å°ˆæ¡ˆï¼š

### éˆæ„Ÿä¾†æº
- [Mini Tokyo 3D](https://github.com/nagix/mini-tokyo-3d) by [@nagix](https://github.com/nagix) - è¶…è®šçš„æ±äº¬äº¤é€šå³æ™‚ 3D è¦–è¦ºåŒ–å°ˆæ¡ˆï¼Œè®“æˆ‘èƒ½å¤ å­¸ç¿’ï¼

### æ™‚åˆ»è¡¨è³‡æ–™
æ„Ÿè¬ [@ericyu](https://github.com/ericyu) çš„é–‹æºå°ˆæ¡ˆï¼š
- [TaipeiMetroTimeTable](https://github.com/ericyu/TaipeiMetroTimeTable) - å°åŒ—æ·é‹æ™‚åˆ»è¡¨è³‡æ–™
- [TaipeiMetroRouteInfo](https://github.com/ericyu/TaipeiMetroRouteInfo) - å°åŒ—æ·é‹è·¯ç·šè³‡è¨Š

### è»Œé“èˆ‡è»Šç«™è³‡æ–™
- [TDX é‹è¼¸è³‡æ–™æµé€šæœå‹™](https://tdx.transportdata.tw/) - æä¾›è»Œé“ GeoJSON èˆ‡è»Šç«™ä½ç½®

## åŠŸèƒ½ç‰¹è‰²

- **å³æ™‚åˆ—è»Šæ¨¡æ“¬** - æ ¹æ“šçœŸå¯¦æ™‚åˆ»è¡¨æ¨¡æ“¬åˆ—è»Šé‹è¡Œ
- **å¤šåŸå¸‚åˆ‡æ›** - æ”¯æ´å°åŒ— (TPE)ã€å°ä¸­ (TXG)ã€é«˜é›„ (KHH) ä¸‰åŸå¸‚å¿«é€Ÿåˆ‡æ›
- **Mapbox åœ°åœ–è¦–è¦ºåŒ–** - ä½¿ç”¨ Mapbox GL JS å‘ˆç¾ç²¾ç¾åœ°åœ–
- **å®Œæ•´è·¯ç¶²æ”¯æ´** - æ”¯æ´å°åŒ—æ·é‹ã€é«˜éµã€é«˜é›„æ·é‹ã€é«˜é›„è¼•è»Œ
- **2D / 3D æ¨¡å¼åˆ‡æ›** - æ”¯æ´å¹³é¢èˆ‡ç«‹é«”è¦–è§’ï¼Œ3D æ¨¡å¼ä¸‹åˆ—è»Šä»¥æ–¹å¡Šå‘ˆç¾
- **åˆ—è»Šè·Ÿéš¨æ¨¡å¼** - é»æ“Šåˆ—è»Šå¯é–‹å•Ÿè·Ÿéš¨ï¼Œè‡ªå‹•è¿½è¹¤åˆ—è»Šä½ç½®
- **æ—¥å¤œä¸»é¡Œåˆ‡æ›** - æ”¯æ´ Autoï¼ˆéš¨æ™‚é–“è‡ªå‹•åˆ‡æ›ï¼‰ã€Dawnã€Dayã€Duskã€Nightã€Dark å…­ç¨®ä¸»é¡Œ
- **æ™‚é–“æ§åˆ¶** - å¯èª¿æ•´æ¨¡æ“¬é€Ÿåº¦ (1x-300x) èˆ‡è·³è½‰æ™‚é–“
- **å»¶é•·æ—¥æ™‚é–“è»¸** - æ”¯æ´ç‡Ÿé‹æ™‚é–“ 06:00 è‡³éš”æ—¥ 01:30
- **è·¯ç·šç¯©é¸** - ä¾åŸå¸‚èˆ‡è·¯ç·šåˆ†é¡ç¯©é¸
- **ç¢°æ’åµæ¸¬** - è‡ªå‹•åµæ¸¬åˆ—è»Šç¢°æ’ä¸¦è¦–è¦ºåŒ–æ¨™ç¤º
- **åœç«™å‹•ç•«** - åˆ—è»Šåˆ°ç«™æ™‚æœƒæœ‰è¦–è¦ºç‹€æ…‹è®ŠåŒ–

## æ”¯æ´è·¯ç·š

### å°åŒ—éƒ½æœƒå€ (TPE)

| è·¯ç·š | ä»£ç¢¼ | è»Šç«™æ•¸ | ç‡Ÿé‹æ¨¡å¼ |
|------|------|--------|----------|
| ğŸ”´ æ·¡æ°´ä¿¡ç¾©ç·š | R | 28 ç«™ | å…¨ç¨‹è»Šã€å€é–“è»Šã€æ–°åŒ—æŠ•æ”¯ç·š |
| ğŸŸ¢ æ¾å±±æ–°åº—ç·š | G | 20 ç«™ | å…¨ç¨‹è»Šã€å°ç¢§æ½­æ”¯ç·š |
| ğŸŸ  ä¸­å’Œæ–°è˜†ç·š | O | 27 ç«™ | è¿´é¾ç·šã€è˜†æ´²ç·š |
| ğŸ”µ æ¿å—ç·š | BL | 23 ç«™ | å…¨ç¨‹è»Šã€å€é–“è»Š |
| ğŸŸ¤ æ–‡æ¹–ç·š | BR | 24 ç«™ | å…¨è‡ªå‹•ç„¡äººé§•é§› |
| ğŸŸ¡ ç’°ç‹€ç·š | Y | 14 ç«™ | ç¬¬ä¸€éšæ®µ |
| ğŸŸ£ æ¡ƒåœ’æ©Ÿå ´æ·é‹ | A | 22 ç«™ | æ™®é€šè»Šã€ç›´é”è»Šã€åŠ ç­ç›´é”è»Š |
| ğŸ’š å®‰å‘è¼•è»Œ | K | 9 ç«™ | è¼•è»Œ |
| ğŸ©µ æ·¡æµ·è¼•è»Œ | V | 11 ç«™ | ç¶ å±±ç·š |
| ğŸš¡ è²“ç©ºçºœè»Š | MK | 4 ç«™ | çºœè»Šï¼ˆä¸‰æ®µå¼é¡¯ç¤ºæ§åˆ¶ï¼‰ |

### é«˜é›„éƒ½æœƒå€ (KHH)

| è·¯ç·š | ä»£ç¢¼ | è»Šç«™æ•¸ | ç‡Ÿé‹æ¨¡å¼ |
|------|------|--------|----------|
| ğŸ”´ é«˜é›„æ·é‹ç´…ç·š | R | 24 ç«™ | å°æ¸¯ â†” å²¡å±± |
| ğŸŸ  é«˜é›„æ·é‹æ©˜ç·š | O | 14 ç«™ | å“ˆç‘ªæ˜Ÿ â†” å¤§å¯® |
| ğŸ’š é«˜é›„è¼•è»Œç’°ç‹€ç·š | C | 38 ç«™ | é †æ™‚é‡ã€é€†æ™‚é‡ |

### å°ç£é«˜éµ (THSR)

| è·¯ç·š | ä»£ç¢¼ | è»Šç«™æ•¸ | ç‡Ÿé‹æ¨¡å¼ |
|------|------|--------|----------|
| ğŸŸ§ å°ç£é«˜éµ | THSR | 12 ç«™ | å—æ¸¯ â†” å·¦ç‡Ÿ |

## æŠ€è¡“æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         App.tsx                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Mapbox GL  â”‚  â”‚ TimeEngine  â”‚  â”‚    Train Engines     â”‚ â”‚
â”‚  â”‚   (åœ°åœ–)    â”‚  â”‚  (æ™‚é–“æ¨¡æ“¬)  â”‚  â”‚ TRTC/THSR/KRTC/KLRT â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â†‘               â†“               â†“                    â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                      Data Hooks                               â”‚
â”‚         useData / useThsrData / useKrtcData / useKlrtData    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¨¡çµ„

| æ¨¡çµ„ | æª”æ¡ˆ | èªªæ˜ |
|------|------|------|
| TimeEngine | `src/engines/TimeEngine.ts` | æ¨¡æ“¬æ™‚é–“å¼•æ“ï¼Œæ”¯æ´æš«åœã€åŠ é€Ÿã€è·³è½‰ |
| TrainEngine | `src/engines/TrainEngine.ts` | å°åŒ—æ·é‹åˆ—è»Šç‹€æ…‹ç®¡ç† |
| ThsrTrainEngine | `src/engines/ThsrTrainEngine.ts` | é«˜éµåˆ—è»Šå¼•æ“ |
| KrtcTrainEngine | `src/engines/KrtcTrainEngine.ts` | é«˜é›„æ·é‹åˆ—è»Šå¼•æ“ |
| KlrtTrainEngine | `src/engines/KlrtTrainEngine.ts` | é«˜é›„è¼•è»Œåˆ—è»Šå¼•æ“ |
| Train3DLayer | `src/layers/Train3DLayer.ts` | å°åŒ—æ·é‹ 3D åœ–å±¤ |
| Thsr3DLayer | `src/layers/Thsr3DLayer.ts` | é«˜éµ 3D åœ–å±¤ |
| Krtc3DLayer | `src/layers/Krtc3DLayer.ts` | é«˜é›„æ·é‹ 3D åœ–å±¤ |
| Klrt3DLayer | `src/layers/Klrt3DLayer.ts` | é«˜é›„è¼•è»Œ 3D åœ–å±¤ |
| useData | `src/hooks/useData.ts` | å°åŒ—æ·é‹è³‡æ–™è¼‰å…¥ |
| useThsrData | `src/hooks/useThsrData.ts` | é«˜éµè³‡æ–™è¼‰å…¥ |
| useKrtcData | `src/hooks/useKrtcData.ts` | é«˜é›„æ·é‹è³‡æ–™è¼‰å…¥ |
| useKlrtData | `src/hooks/useKlrtData.ts` | é«˜é›„è¼•è»Œè³‡æ–™è¼‰å…¥ |
| CitySelector | `src/components/CitySelector.tsx` | åŸå¸‚å¿«é€Ÿåˆ‡æ› |
| LineFilter | `src/components/LineFilter.tsx` | è·¯ç·šç¯©é¸ |
| TrainInfoPanel | `src/components/TrainInfoPanel.tsx` | åˆ—è»Šè·Ÿéš¨è³‡è¨Šé¢æ¿ |

## å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- Node.js 18+
- npm æˆ– yarn
- Mapbox Access Token ([ç”³è«‹é€£çµ](https://account.mapbox.com/access-tokens/))

### å®‰è£æ­¥é©Ÿ

```bash
# å®‰è£ä¾è³´
npm install

# è¨­å®šç’°å¢ƒè®Šæ•¸
cp .env.example .env
# ç·¨è¼¯ .envï¼Œå¡«å…¥ä½ çš„ Mapbox Token

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev
```

é–‹å•Ÿ http://localhost:5173 å³å¯çœ‹åˆ°åˆ—è»Šæ¨¡æ“¬

### å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬

```bash
npm run build
npm run preview  # é è¦½å»ºç½®çµæœ
```

## å°ˆæ¡ˆçµæ§‹

```
mini-taipei/
â”œâ”€â”€ src/                          # React åŸå§‹ç¢¼
â”‚   â”œâ”€â”€ components/               # UI å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ CitySelector.tsx      # åŸå¸‚é¸æ“‡å™¨
â”‚   â”‚   â”œâ”€â”€ LineFilter.tsx        # è·¯ç·šç¯©é¸
â”‚   â”‚   â”œâ”€â”€ TimeControl.tsx       # æ™‚é–“æ§åˆ¶é¢æ¿
â”‚   â”‚   â”œâ”€â”€ ThemeToggle.tsx       # ä¸»é¡Œåˆ‡æ›
â”‚   â”‚   â””â”€â”€ TrainInfoPanel.tsx    # åˆ—è»Šè³‡è¨Šé¢æ¿
â”‚   â”œâ”€â”€ engines/                  # æ ¸å¿ƒå¼•æ“
â”‚   â”‚   â”œâ”€â”€ TimeEngine.ts         # æ™‚é–“æ¨¡æ“¬å¼•æ“
â”‚   â”‚   â”œâ”€â”€ TrainEngine.ts        # å°åŒ—æ·é‹åˆ—è»Šå¼•æ“
â”‚   â”‚   â”œâ”€â”€ ThsrTrainEngine.ts    # é«˜éµåˆ—è»Šå¼•æ“
â”‚   â”‚   â”œâ”€â”€ KrtcTrainEngine.ts    # é«˜é›„æ·é‹åˆ—è»Šå¼•æ“
â”‚   â”‚   â””â”€â”€ KlrtTrainEngine.ts    # é«˜é›„è¼•è»Œåˆ—è»Šå¼•æ“
â”‚   â”œâ”€â”€ layers/                   # 3D åœ–å±¤
â”‚   â”‚   â”œâ”€â”€ Train3DLayer.ts       # å°åŒ—æ·é‹ 3D åœ–å±¤
â”‚   â”‚   â”œâ”€â”€ Thsr3DLayer.ts        # é«˜éµ 3D åœ–å±¤
â”‚   â”‚   â”œâ”€â”€ Krtc3DLayer.ts        # é«˜é›„æ·é‹ 3D åœ–å±¤
â”‚   â”‚   â””â”€â”€ Klrt3DLayer.ts        # é«˜é›„è¼•è»Œ 3D åœ–å±¤
â”‚   â”œâ”€â”€ hooks/                    # React Hooks
â”‚   â”‚   â”œâ”€â”€ useData.ts            # å°åŒ—æ·é‹è³‡æ–™è¼‰å…¥
â”‚   â”‚   â”œâ”€â”€ useThsrData.ts        # é«˜éµè³‡æ–™è¼‰å…¥
â”‚   â”‚   â”œâ”€â”€ useKrtcData.ts        # é«˜é›„æ·é‹è³‡æ–™è¼‰å…¥
â”‚   â”‚   â””â”€â”€ useKlrtData.ts        # é«˜é›„è¼•è»Œè³‡æ–™è¼‰å…¥
â”‚   â”œâ”€â”€ constants/                # å¸¸æ•¸å®šç¾©
â”‚   â”‚   â”œâ”€â”€ lineInfo.ts           # å°åŒ—æ·é‹è·¯ç·šè³‡è¨Š
â”‚   â”‚   â”œâ”€â”€ thsrInfo.ts           # é«˜éµè·¯ç·šè³‡è¨Š
â”‚   â”‚   â”œâ”€â”€ krtcInfo.ts           # é«˜é›„æ·é‹è·¯ç·šè³‡è¨Š
â”‚   â”‚   â””â”€â”€ klrtInfo.ts           # é«˜é›„è¼•è»Œè·¯ç·šè³‡è¨Š
â”‚   â””â”€â”€ types/                    # TypeScript å‹åˆ¥
â”œâ”€â”€ public/data/                  # éœæ…‹è³‡æ–™
â”‚   â”œâ”€â”€ trtc/                     # å°åŒ—æ·é‹è³‡æ–™
â”‚   â”‚   â”œâ”€â”€ tracks/               # è»Œé“ GeoJSON
â”‚   â”‚   â”œâ”€â”€ schedules/            # æ™‚åˆ»è¡¨ JSON
â”‚   â”‚   â”œâ”€â”€ station_progress.json # è»Šç«™é€²åº¦å°ç…§è¡¨
â”‚   â”‚   â””â”€â”€ *_stations.geojson    # å„è·¯ç·šè»Šç«™è³‡æ–™
â”‚   â”œâ”€â”€ thsr/                     # é«˜éµè³‡æ–™
â”‚   â”‚   â”œâ”€â”€ tracks/
â”‚   â”‚   â”œâ”€â”€ schedules/
â”‚   â”‚   â”œâ”€â”€ stations/
â”‚   â”‚   â””â”€â”€ station_progress.json
â”‚   â”œâ”€â”€ krtc/                     # é«˜é›„æ·é‹è³‡æ–™
â”‚   â”‚   â”œâ”€â”€ tracks/
â”‚   â”‚   â”œâ”€â”€ schedules/
â”‚   â”‚   â”œâ”€â”€ stations/
â”‚   â”‚   â””â”€â”€ station_progress.json
â”‚   â””â”€â”€ klrt/                     # é«˜é›„è¼•è»Œè³‡æ–™
â”‚       â”œâ”€â”€ tracks/
â”‚       â”œâ”€â”€ schedules/
â”‚       â”œâ”€â”€ stations/
â”‚       â””â”€â”€ station_progress.json
â”œâ”€â”€ data/                         # åŸå§‹ TDX è³‡æ–™
â”‚   â”œâ”€â”€ tdx_metro_test/           # å°åŒ—æ·é‹åŸå§‹è³‡æ–™
â”‚   â”œâ”€â”€ tdx_klrt/                 # é«˜é›„è¼•è»ŒåŸå§‹è³‡æ–™
â”‚   â””â”€â”€ ...
â”œâ”€â”€ scripts/                      # è³‡æ–™è™•ç†è…³æœ¬
â”‚   â”œâ”€â”€ fetch_klrt_data.py        # å–å¾—é«˜é›„è¼•è»Œè³‡æ–™
â”‚   â”œâ”€â”€ build_klrt_*.py           # å»ºç«‹é«˜é›„è¼•è»Œå„é¡è³‡æ–™
â”‚   â””â”€â”€ ...
â””â”€â”€ tools/data_collector/         # è³‡æ–™è½‰æ›å·¥å…·
```

---

# æŠ€è¡“æ–‡ä»¶

## åˆ—è»Šå‹•ç•«åŸç†

### è»Šç«™é€²åº¦æ˜ å°„ (Station Progress)

æ¯æ¢è»Œé“æ˜¯ä¸€æ¢ LineStringï¼Œåˆ—è»Šä½ç½®ç”¨ **é€²åº¦å€¼ (0-1)** è¡¨ç¤ºï¼š

```
è»Œé“èµ·é» â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€ è»Œé“çµ‚é»
  0.0       0.25    0.5   0.75      1.0
           ç«™A     ç«™B    ç«™C
```

`station_progress.json` å„²å­˜æ¯å€‹è»Šç«™åœ¨å„è»Œé“ä¸Šçš„å¯¦éš›é€²åº¦ï¼š

```json
{
  "R-1-0": {
    "R02": 0.0,      // è±¡å±±ç«™ï¼šè»Œé“èµ·é»
    "R03": 0.0276,   // å°åŒ—101ç«™
    "R04": 0.0657,   // ä¿¡ç¾©å®‰å’Œç«™
    ...
    "R28": 1.0       // æ·¡æ°´ç«™ï¼šè»Œé“çµ‚é»
  }
}
```

### ä½ç½®æ’å€¼æ¼”ç®—æ³•

åˆ—è»Šä½ç½®æ ¹æ“šæ™‚åˆ»è¡¨è¨ˆç®—ï¼š

```
1. å¾æ™‚åˆ»è¡¨æ‰¾å‡ºç•¶å‰ç‹€æ…‹ï¼šåœç«™ä¸­ or è¡Œé§›ä¸­
2. è‹¥åœç«™ä¸­ï¼šä½ç½® = è©²ç«™çš„ progress å€¼
3. è‹¥è¡Œé§›ä¸­ï¼š
   - è¨ˆç®—å€æ®µé€²åº¦ = (ç•¶å‰æ™‚é–“ - é›¢ç«™æ™‚é–“) / (ä¸‹ç«™åˆ°é” - é›¢ç«™æ™‚é–“)
   - ä½ç½® = ç·šæ€§æ’å€¼(èµ·ç«™progress, çµ‚ç«™progress, å€æ®µé€²åº¦)
4. å°‡ progress è½‰æ›ç‚ºå¯¦éš›ç¶“ç·¯åº¦åº§æ¨™
```

### ç’°ç‹€ç·šç‰¹æ®Šè™•ç† (é«˜é›„è¼•è»Œ)

é«˜é›„è¼•è»Œæ˜¯ç’°ç‹€ç·šï¼Œèµ·é»å’Œçµ‚é»éƒ½æ˜¯ C1 ç±¬ä»”å…§ç«™ï¼š

```
é †æ™‚é‡ (KLRT-C-0): C1 â†’ C2 â†’ ... â†’ C37 â†’ C1
é€†æ™‚é‡ (KLRT-C-1): C1 â†’ C37 â†’ ... â†’ C2 â†’ C1
```

çµ‚é»ç«™çš„é€²åº¦å€¼è¨­ç‚º 1.0ï¼ˆè€Œéå›åˆ° 0.0ï¼‰ï¼Œç¢ºä¿åˆ—è»Šæ­£ç¢ºåœåœ¨è»Œé“æœ«ç«¯ã€‚

## ç¢°æ’åµæ¸¬ç³»çµ±

### å•é¡ŒèƒŒæ™¯

æ·¡æ°´ä¿¡ç¾©ç·šæœ‰å¤šç¨®ç‡Ÿé‹æ¨¡å¼å…±ç”¨åŒä¸€å¯¦é«”è»Œé“ï¼Œç•¶å…©è¼›ä¸åŒè·¯ç·šçš„åˆ—è»Šåœ¨åŒä¸€ç‰©ç†ä½ç½®æ™‚ï¼Œéœ€è¦è¦–è¦ºåŒ–å€åˆ†ã€‚

### è¦–è¦ºæ•ˆæœ

- **æ­£å¸¸è¡Œé§›**ï¼šç™½è‰²é‚Šæ¡†åœ“é»
- **åœç«™ä¸­**ï¼šè¼ƒå¤§åœ“é» + è„ˆå‹•æ•ˆæœ
- **ç¢°æ’ä¸­**ï¼šé»ƒè‰²é‚Šæ¡† + è­¦ç¤ºå…‰æšˆ + ä½ç½®åç§»

## è³‡æ–™æ ¼å¼è¦æ ¼

### è»Œé“è³‡æ–™ (GeoJSON)

```json
{
  "type": "FeatureCollection",
  "features": [{
    "type": "Feature",
    "properties": {
      "track_id": "R-1-0",
      "route_id": "R-1",
      "direction": 0,
      "name": "è±¡å±± â†’ æ·¡æ°´",
      "color": "#d90023"
    },
    "geometry": {
      "type": "LineString",
      "coordinates": [[121.xxx, 25.xxx], ...]
    }
  }]
}
```

### æ™‚åˆ»è¡¨è³‡æ–™ (JSON)

```json
{
  "track_id": "R-1-0",
  "route_id": "R-1",
  "name": "è±¡å±± â†’ æ·¡æ°´",
  "origin": "R02",
  "destination": "R28",
  "stations": ["R02", "R03", ...],
  "departure_count": 133,
  "departures": [{
    "train_id": "R-1-0-001",
    "departure_time": "06:00:00",
    "origin_station": "R02",
    "total_travel_time": 3240,
    "stations": [
      { "station_id": "R02", "arrival": 0, "departure": 40 },
      { "station_id": "R03", "arrival": 140, "departure": 180 },
      ...
    ]
  }]
}
```

## ç’°å¢ƒè®Šæ•¸

```env
VITE_MAPBOX_TOKEN=your_mapbox_token_here
```

å–å¾— Mapbox Token: https://account.mapbox.com/access-tokens/

## æŠ€è¡“æ£§

| å±¤ç´š | æŠ€è¡“ |
|------|------|
| å‰ç«¯ | React 19 + TypeScript + Vite |
| åœ°åœ– | Mapbox GL JS |
| 3D æ¸²æŸ“ | Three.js |
| è»Œé“è³‡æ–™ | TDX é‹è¼¸è³‡æ–™æµé€šæœå‹™ |
| æ™‚åˆ»è¡¨è³‡æ–™ | Eric Yu é–‹æºå°ˆæ¡ˆ + TDX API |

## é–‹ç™¼æ­·ç¨‹

### 2026-01-02
- âœ¨ æ–°å¢é«˜é›„è¼•è»Œ (KLRT) å®Œæ•´æ”¯æ´
  - 38 ç«™ç’°ç‹€ç·šï¼ˆC1-C37 + C21Aï¼‰
  - é †æ™‚é‡/é€†æ™‚é‡é›™å‘ç‡Ÿé‹
  - 2D/3D æ¨¡å¼åˆ—è»Šé¡¯ç¤º
- âœ¨ æ–°å¢é«˜é›„æ·é‹ (KRTC) å®Œæ•´æ”¯æ´
  - ç´…ç·š (R)ï¼šå°æ¸¯ â†” å²¡å±±
  - æ©˜ç·š (O)ï¼šå“ˆç‘ªæ˜Ÿ â†” å¤§å¯®
- âœ¨ æ–°å¢å°ç£é«˜éµ (THSR) å®Œæ•´æ”¯æ´
  - å—æ¸¯ â†” å·¦ç‡Ÿ
  - 12 ç«™æ™‚åˆ»è¡¨æ¨¡æ“¬
- âœ¨ æ–°å¢åŸå¸‚é¸æ“‡å™¨ (TPE / TXG / KHH)
- ğŸ”§ é‡æ•´è³‡æ–™å¤¾çµæ§‹
  - `public/data/` â†’ `public/data/trtc/`
  - `public/data-klrt/` â†’ `public/data/klrt/`
  - `public/data-krtc/` â†’ `public/data/krtc/`
  - `public/data-thsr/` â†’ `public/data/thsr/`

### 2026-01-01
- âœ¨ æ–°å¢ 2D / 3D æ¨¡å¼åˆ‡æ›åŠŸèƒ½ï¼Œ3D æ¨¡å¼ä½¿ç”¨ Three.js æ¸²æŸ“ç«‹é«”åˆ—è»Š
- âœ¨ æ–°å¢åˆ—è»Šè·Ÿéš¨æ¨¡å¼ï¼Œé»æ“Šåˆ—è»Šå¯è‡ªå‹•è¿½è¹¤ä½ç½®ä¸¦é¡¯ç¤ºè©³ç´°è³‡è¨Š
- âœ¨ æ–°å¢æ—¥å¤œä¸»é¡Œåˆ‡æ›åŠŸèƒ½ï¼ˆAuto / Dawn / Day / Dusk / Night / Darkï¼‰
- âœ¨ æ–°å¢è²“ç©ºçºœè»Š (MK) æ”¯æ´ï¼Œå«ä¸‰æ®µå¼é¡¯ç¤ºæ§åˆ¶
- âœ¨ æ–°å¢ MRT / Cable åˆ†é¡ç¯©é¸å™¨
- âœ¨ æ‰€æœ‰ UI é¢æ¿æ”¯æ´ä¸»é¡Œè‡ªå‹•åˆ‡æ›ï¼ˆæ˜/æš—è‰²é…åˆåœ°åœ–ä¸»é¡Œï¼‰
- âœ¨ è»Œé“åœ–å±¤åŠ å…¥ emissive-strengthï¼Œå¤œé–“æ¨¡å¼ä¿æŒæ˜äº®
- ğŸ¨ æ–°å¢åˆ—è»Šæ•¸é‡è¶¨å‹¢ç›´æ–¹åœ–
- ğŸ¨ å„ªåŒ– 3D è·Ÿéš¨æ¨¡å¼è¦–è§’æ§åˆ¶ï¼Œå…è¨±è‡ªç”±æ—‹è½‰
- ğŸ› ä¿®æ­£åœ°åœ–æ¨£å¼åˆ‡æ›å¾Œåœ–å±¤æ¶ˆå¤±å•é¡Œ
- ğŸ› ä¿®æ­£å•Ÿå‹•æ™‚åœ°åœ–æ¨£å¼é–ƒçˆå•é¡Œ
- âš¡ å„ªåŒ– 3D æ¨¡å¼æ•ˆèƒ½ï¼ˆæè³ªå…±ç”¨ã€ç¯€æµæ¸²æŸ“ï¼‰

### 2025-12-31
- âœ¨ æ–°å¢æ–°åŒ—ç’°ç‹€ç·š (Y) å®Œæ•´å¯¦ä½œ
- âœ¨ æ–°å¢æ¡ƒåœ’æ©Ÿå ´æ·é‹ (A) - æ”¯æ´æ™®é€šè»Šã€åŸºæœ¬ç›´é”è»Šã€åŠ ç­ç›´é”è»Šä¸‰ç¨®ç‡Ÿé‹æ¨¡å¼
- âœ¨ æ–°å¢å®‰å‘è¼•è»Œ (K) èˆ‡æ·¡æµ·è¼•è»Œ (V)
- âœ¨ æ–°å¢æ–‡æ¹–ç·š (BR) å®Œæ•´å¯¦ä½œ
- ğŸ› ä¿®æ­£æ©Ÿå ´æ·é‹ç›´é”è»Šæ™‚é–“ï¼ˆæ ¹æ“šå®˜æ–¹æ™‚åˆ»è¡¨æ ¡æº–ç‚º 39 åˆ†é˜ï¼‰
- ğŸ› ä¿®æ­£ station_progress è»Šç«™å°é½Šå•é¡Œ

### 2025-12-30
- âœ¨ æ–°å¢ä¸­å’Œæ–°è˜†ç·š (O) æ¨¡æ“¬
- âœ¨ æ–°å¢æ¾å±±æ–°åº—ç·š (G) å«å°ç¢§æ½­æ”¯ç·š
- âœ¨ æ–°å¢æ¿å—ç·š (BL) æ¨¡æ“¬
- âœ¨ æ–°å¢ UI å¢å¼·åŠŸèƒ½ï¼ˆè·¯ç·šç¯©é¸ã€æ™‚é–“æ§åˆ¶å„ªåŒ–ï¼‰
- ğŸ› ä¿®æ­£å¤šæ¢è·¯ç·šè»Œé“æ ¡æº–å•é¡Œ
- ğŸ› æ’é™¤ä¸åŒç·šè·¯çš„ç¢°æ’æª¢æ¸¬

### 2025-12-29
- âœ¨ æ–°å¢é¦–ç­è»Šå°ˆç”¨è»Œé“è§£æ±ºä¸­é€”ç«™å‡ºç™¼å•é¡Œ
- âœ¨ æ–°å¢å»¶é•·æ—¥æ™‚é–“è»¸ (06:00 ~ éš”æ—¥ 01:30)
- âœ¨ UI å„ªåŒ– - é€Ÿåº¦æ§åˆ¶ã€åœ–ä¾‹ã€æ™‚é–“è»¸èª¿æ•´
- ğŸ› ä¿®æ­£é¦–ç­è»Šè»Œé“åº§æ¨™å°é½Šå•é¡Œ

### å°ˆæ¡ˆåˆæœŸ
- ğŸ‰ ä½¿ç”¨ Eric Yu é–‹æºæ™‚åˆ»è¡¨è³‡æ–™
- ğŸ‰ æ·¡æ°´ä¿¡ç¾©ç·š (R) åŸºç¤å¯¦ä½œ
- ğŸ‰ æ•´åˆ Mapbox GL JS åœ°åœ–è¦–è¦ºåŒ–

## æˆæ¬Š

MIT License
